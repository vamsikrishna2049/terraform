pre-Commit Hooks

nano .git/hooks/pre-commit

#!/bin/bash
# Pre-commit hook for Terraform

echo "ğŸ” Running terraform fmt..."
terraform fmt -recursive
if [ $? -ne 0 ]; then
  echo "âŒ terraform fmt failed. Please fix formatting before commit."
  exit 1
fi

echo "ğŸ” Running terraform validate..."
terraform validate
if [ $? -ne 0 ]; then
  echo "âŒ terraform validate failed. Fix errors before commit."
  exit 1
fi

echo "ğŸ” Running terraform plan..."
terraform plan -detailed-exitcode -out=tfplan
PLAN_EXIT=$?

if [ $PLAN_EXIT -eq 1 ]; then
  echo "âŒ terraform plan failed. Fix errors before commit."
  exit 1
elif [ $PLAN_EXIT -eq 2 ]; then
  echo "âš ï¸ terraform plan has changes."
  # Uncomment below line if you want to block commits when there are changes
  # exit 1
else
  echo "âœ… terraform plan shows no changes."
fi

echo "âœ”ï¸ Pre-commit checks passed. Proceeding with commit."



Make it executable:
chmod +x .git/hooks/pre-commit
